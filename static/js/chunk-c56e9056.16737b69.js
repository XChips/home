/*! time: 2024-4-16 17:43:11 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c56e9056"],{"69fc":function(e,t,s){},"71a8":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("el-alert",{staticStyle:{position:"fixed"},attrs:{title:"这里是登录页，登录后仍然只能看见首页相关模块，看不到个人界面",type:"success",closable:!1}}),t("el-form",{ref:"form",staticClass:"simpleForm",attrs:{model:e.form,rules:e.rules,"label-position":"left"}},[t("el-form-item",{attrs:{prop:"username"}},[t("fa-icon",{staticClass:"el-icon",attrs:{icon:["fas","user-alt"]}}),t("el-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{placeholder:"请输入用户名",type:"text",tabindex:"1"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username","string"===typeof t?t.trim():t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("fa-icon",{staticClass:"el-icon",attrs:{icon:["fas","lock"]}}),t("el-input",{key:e.passwordType,ref:"password",attrs:{placeholder:"请输入密码",type:e.passwordType,tabindex:"2"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"===typeof t?t.trim():t)},expression:"form.password"}}),t("fa-icon",{staticClass:"show-password",attrs:{icon:["fas",e.passwordType?"eye-slash":"eye"]},on:{click:e.handlePassword}})],1),t("el-button",{staticClass:"fillBtn",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleLogin}},[e._v("登录")]),t("router-link",{attrs:{to:"/register"}},[t("div",{staticStyle:{"margin-top":"20px"}},[e._v("注册")])])],1)],1)},o=[],i=s("a33f"),a={name:"Login",directives:{focus:{inserted(e){e.querySelector("input").focus()}}},data(){const e=(e,t,s)=>{s(t?void 0:new Error("用户名不能为空"))},t=(e,t,s)=>{s(Object(i["isPassword"])(t)?void 0:new Error("密码不能少于6位"))};return{form:{username:"",password:""},rules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler(e){this.redirect=e.query&&e.query.redirect||"/"},immediate:!0}},created(){document.body.style.overflow="hidden"},beforeDestroy(){document.body.style.overflow="auto"},mounted(){},methods:{handlePassword(){this.passwordType=this.passwordType?"":"password",this.$nextTick(()=>{this.$refs.password.focus()})},handleLogin(){this.loading=!0,this.$refs.form.validate(e=>{if(!e)return this.loading=!1;this.$store.dispatch("user/login",this.form).then(()=>{const e="/404"===this.redirect||"/401"===this.redirect?"/":this.redirect;this.$router.push(e)}).finally(()=>{this.loading=!1})})}}},n=a,l=(s("b0b7"),s("2877")),d=Object(l["a"])(n,r,o,!1,null,"7cce261d",null);t["default"]=d.exports},b0b7:function(e,t,s){"use strict";s("69fc")}}]);