/*! time: 2024-4-16 17:43:11 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04b14377"],{"09a3":function(e,t,r){"use strict";r("09b6")},"09b6":function(e,t,r){},"386e":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"register-container"},[t("el-alert",{staticStyle:{position:"fixed"},attrs:{title:"这里是登录页，登录后仍然只能看见首页相关模块，看不到个人界面",type:"success",closable:!1}}),t("el-form",{ref:"registerForm",staticClass:"simpleForm",attrs:{model:e.form,rules:e.registerRules,size:"mini"}},[t("el-form-item",{attrs:{prop:"username"}},[t("fa-icon",{staticClass:"el-icon",attrs:{icon:["fas","user-alt"]}}),t("el-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{placeholder:"请输入用户名",type:"text",tabindex:"1",autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username","string"===typeof t?t.trim():t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{prop:"phone"}},[t("fa-icon",{staticClass:"el-icon",attrs:{icon:["fas","mobile-alt"]}}),t("el-input",{attrs:{placeholder:"请输入手机号",type:"text",tabindex:"2",autocomplete:"off",maxlength:"11","show-word-limit":""},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone","string"===typeof t?t.trim():t)},expression:"form.phone"}})],1),t("el-form-item",{staticStyle:{position:"relative"},attrs:{prop:"phoneCode"}},[t("fa-icon",{staticClass:"el-icon",attrs:{icon:["fas","envelope-open"]}}),t("el-input",{attrs:{placeholder:"手机验证码",type:"text",tabindex:"4"},model:{value:e.form.phoneCode,callback:function(t){e.$set(e.form,"phoneCode","string"===typeof t?t.trim():t)},expression:"form.phoneCode"}}),t("el-button",{staticClass:"sms-code",attrs:{type:"primary",tabindex:"3",disabled:e.isGetphone},on:{click:e.getPhoneCode}},[e._v(" "+e._s(e.phoneCode)+" ")])],1),t("el-form-item",{attrs:{prop:"password"}},[t("fa-icon",{staticClass:"el-icon",attrs:{icon:["fas","unlock"]}}),t("el-input",{attrs:{placeholder:"设置密码",type:"password",tabindex:"5",autocomplete:"new-password"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister.apply(null,arguments)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"===typeof t?t.trim():t)},expression:"form.password"}})],1),t("el-button",{staticClass:"fillBtn",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleRegister}},[e._v("注册")]),t("router-link",{attrs:{to:"/login"}},[t("div",{staticStyle:{"margin-top":"20px"}},[e._v("登录")])])],1)],1)},s=[],i=r("a33f"),a={username:"Register",directives:{focus:{inserted(e){e.querySelector("input").focus()}}},data(){const e=(e,t,r)=>{r(t?void 0:new Error("用户名不能为空"))},t=(e,t,r)=>{r(Object(i["isPassword"])(t)?void 0:new Error("密码不能少于6位"))},r=(e,t,r)=>{r(Object(i["isPhone"])(t)?void 0:new Error("请输入正确的手机号"))};return{isGetphone:!1,getPhoneIntval:null,phoneCode:"获取验证码",form:{},registerRules:{username:[{required:!0,trigger:"blur",message:"请输入用户名"},{max:20,trigger:"blur",message:"最多不能超过20个字"},{validator:e,trigger:"blur"}],phone:[{required:!0,trigger:"blur",message:"请输入手机号码"},{validator:r,trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{validator:t,trigger:"blur"}],phoneCode:[{required:!0,trigger:"blur",message:"请输入手机验证码"}]},loading:!1}},created(){document.body.style.overflow="hidden"},beforeDestroy(){document.body.style.overflow="auto",clearInterval(this.getPhoneIntval),this.getPhoneIntval=null},methods:{getPhoneCode(){if(!Object(i["isPhone"])(this.form.phone))return this.$Message("请输入手机号","error"),void this.$refs["registerForm"].validateField("phone");this.isGetphone=!0;let e=60;this.getPhoneIntval=setInterval(()=>{e>0?(e--,this.phoneCode=`重新获取(${e}s)`):(clearInterval(this.getPhoneIntval),this.getPhoneIntval=null,this.phoneCode="获取验证码",this.isGetphone=!1)},1e3)},handleRegister(){this.loading=!0,this.$refs["registerForm"].validate(async e=>{if(!e)return this.loading=!1;const t={username:this.form.username,phone:this.form.phone,password:this.form.password,phoneCode:this.form.phoneCode},{msg:r}=await this.$Api("register",t);this.$Message(r,"success"),this.$router.push("/login")})}}},n=a,l=(r("09a3"),r("2877")),p=Object(l["a"])(n,o,s,!1,null,"063c234e",null);t["default"]=p.exports}}]);